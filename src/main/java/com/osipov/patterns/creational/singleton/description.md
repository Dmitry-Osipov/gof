# Singleton
## Название и классификация паттерна
Одиночка - паттерн, порождающий объекты
## Назначение
Гарантирует, что у класса есть только один экземпляр, и предоставляет к нему глобальную точку доступа
## Мотивация
Для некоторых классов важно, чтобы существовал только один экземпляр. Хотя в системе может быть много принтеров, но возможен лишь один спулер. Должны быть только одна файловая система и единственный оконный менеджер. В цифровом фильтре может находиться только один аналогоцифровой преобразователь(АЦП). Бухгалтерская система обслуживает только одну компанию. Как гарантировать, что у класса есть единственный экземпляр и что этот экземпляр легко доступен? Глобальная переменная дает доступ к объекту, но не запрещает инстанцировать класс в нескольких экземплярах. Более удачное решение – сам класс контролирует то, что у него есть только один экземпляр, может запретить создание дополнительных экземпляров, перехватывая запросы на создание новых объектов, и он же способен предоставить доступ к своему экземпляру. Это и есть назначение паттерна одиночка.
## Применимость
Используйте паттерн одиночка, когда:
- должен быть ровно 1 экземпляр некоторого класса, легко доступный всем клиентам
- единственный экземпляр должен расширяться путём порождения подклассов, и клиентам нужно иметь возможность работать с расширенным экземпляром без модификации своего кода
## Участники
Singleton - одиночка:
- определяет операцию Instance, которая позволяет клиентам получать доступ к единственному экземпляру
- может нести ответственность за создание собственного уникального экземпляра
## Отношения
Клиенты получают доступ к экземпляру класса Singleton только через его операцию Instance
## Результаты
У паттерна одиночка есть определённые достоинства:
- контролируемый доступ к единственному экземпляру. Поскольку класс Singleton инкапсулирует свой единственный экземпляр, он полностью контролирует то, как и когда клиенты получают доступ к нему; 
- уменьшение числа имен. Паттерн одиночка – шаг вперед по сравнению с глобальными переменными. Он позволяет избежать засорения пространства имен глобальными переменными, в которых хранятся уникальные экземпляры; 
- допускает уточнение операций и представления. От класса Singleton можно порождать подклассы, а приложение легко сконфигурировать экземпляром расширенного класса. Можно конкретизировать приложение экземпляром того класса, который необходим во время выполнения; 
- допускает переменное число экземпляров. Паттерн позволяет вам легко изменить свое решение и разрешить появление более одного экземпляра класса Singleton. Вы можете применять один и тот же подход для управления числом экземпляров, используемых в приложении. Изменить нужно будет лишь операцию, дающую доступ к экземпляру класса Singleton; 
- большая гибкость, чем у операций класса. Еще один способ реализовать функциональность одиночки – использовать операции класса, то есть статические функциичлены в C++ и методы класса в Smalltalk. Но оба этих приема препятствуют изменению дизайна, если потребуется разрешить наличие нескольких экземпляров класса. Кроме того, статические функциичлены в C++ не могут быть виртуальными, так что их нельзя полиморфно заместить в подклассах.
## Родственные паттерны
С помощью паттерна одиночка могут быть реализованы многие паттерны. См. описание [абстрактной фабрики](../abstract_factory/description.md), [строителя](../builder/description.md) и [прототипа](../prototype/description.md).
